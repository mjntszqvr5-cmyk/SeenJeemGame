<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³ÙŠÙ† Ø¬ÙŠÙ… | Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø¹ØªÙ…Ø¯</title>
    <style>
        :root { 
            --main-bg: #1e1e1e; 
            --header-bg: #121212;
            --card-bg: #2d2d2d; 
            --orange: #ff7644; 
            --gold: #f1c40f; 
        }
        
        body { 
            background-color: var(--main-bg); 
            color: white; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 0; 
            overflow-x: hidden;
        }

        /* 1. Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ (Header) */
        .app-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px 20px; 
            background: var(--header-bg); 
            border-bottom: 2px solid var(--orange);
            position: fixed; 
            top: 0; 
            width: 100%; 
            z-index: 3000;
            box-sizing: border-box;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© (ÙŠÙ…ÙŠÙ†) */
        .dropdown { position: relative; }
        .dropbtn { 
            background: none; 
            border: none; 
            color: white; 
            font-size: 1.8rem; 
            cursor: pointer; 
            padding: 0;
        }
        .dropdown-content { 
            display: none; 
            position: absolute; 
            right: 0; 
            background: #222; 
            min-width: 160px; 
            border-radius: 8px; 
            box-shadow: 0 8px 16px rgba(0,0,0,0.5); 
            border: 1px solid #444;
        }
        .dropdown-content a { 
            color: white; 
            padding: 12px 16px; 
            text-decoration: none; 
            display: block; 
            text-align: right;
            border-bottom: 1px solid #333;
        }
        .show { display: block !important; }

        /* Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (ÙŠØ³Ø§Ø±) */
        .profile-area { display: flex; align-items: center; gap: 10px; }
        .profile-name { font-size: 0.9rem; font-weight: bold; }
        .profile-avatar { 
            background: var(--orange); 
            width: 35px; 
            height: 35px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 1.2rem;
        }

        /* 2. ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø§Ø´Ø§Øª */
        .screen { 
            display: none; 
            padding: 80px 15px 120px; /* ØªØ¹ÙˆÙŠØ¶ Ù…ÙƒØ§Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ± */
            text-align: center; 
            min-height: 100vh;
            box-sizing: border-box;
        }
        .active { display: block !important; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        .intro-title { color: var(--gold); font-size: 4rem; margin-top: 15vh; text-shadow: 0 0 20px rgba(241,196,15,0.3); }
        .btn-main { 
            background: var(--gold); 
            color: black; 
            border: none; 
            padding: 15px 60px; 
            border-radius: 40px; 
            font-size: 1.5rem; 
            font-weight: bold; 
            cursor: pointer;
            transition: 0.3s;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ÙØ¦Ø§Øª */
        .grid-cats { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            margin-top: 20px; 
        }
        .cat-item { 
            background: var(--card-bg); 
            border-radius: 15px; 
            overflow: hidden; 
            border: 3px solid transparent; 
            cursor: pointer;
            transition: 0.2s;
        }
        .cat-item img { width: 100%; height: 120px; object-fit: cover; }
        .cat-item-name { background: var(--orange); padding: 8px; font-weight: bold; font-size: 0.85rem; }
        .cat-item.selected { border-color: var(--gold); transform: translateY(-5px); box-shadow: 0 5px 15px rgba(255,118,68,0.4); }

        /* 3. Ø²Ø± "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨" Ø§Ù„Ø«Ø§Ø¨Øª (Ø§Ù„ÙÙˆØªØ±) */
        .footer-action { 
            position: fixed; 
            bottom: 0; 
            width: 100%; 
            background: var(--header-bg); 
            padding: 20px; 
            border-top: 1px solid #333;
            z-index: 2500;
            display: none; /* ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· ÙÙŠ ØµÙØ­Ø© Ø§Ù„ÙØ¦Ø§Øª */
        }
        .btn-play { 
            background: var(--orange); 
            color: white; 
            border: none; 
            padding: 15px; 
            border-radius: 30px; 
            width: 90%; 
            max-width: 400px; 
            font-size: 1.2rem; 
            font-weight: bold; 
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255,118,68,0.3);
        }
    </style>
</head>
<body>

    <header class="app-header">
        <div class="dropdown">
            <button class="dropbtn" onclick="toggleMenu()">â˜°</button>
            <div id="sideDrop" class="dropdown-content">
                <a href="#" onclick="location.reload()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#">Ø³Ø¬Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</a>
                <a href="#">Ù…Ø³Ø§Ø¹Ø¯Ø©</a>
            </div>
        </div>

        <div class="profile-area">
            <span class="profile-name">Ù…ØªØ³Ø§Ø¨Ù‚ 1</span>
            <div class="profile-avatar">ğŸ‘¤</div>
        </div>
    </header>

    <div id="intro-screen" class="screen active">
        <h1 class="intro-title">Ø³Ù€ÙŠÙ€Ù† Ø¬Ù€ÙŠÙ€Ù…</h1>
        <p style="color: #aaa;">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØŸ</p>
        <br><br>
        <button class="btn-main" onclick="goToSetup()">Ø¯Ø®ÙˆÙ„</button>
    </div>

    <div id="setup-screen" class="screen">
        <h2 style="color: var(--orange);">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø§Øª (6)</h2>
        <div class="grid-cats" id="cats-container">
            </div>
    </div>

    <div class="footer-action" id="footer-btn-area">
        <button class="btn-play" onclick="startTheGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>
    </div>

    <script>
        // Ù…ØµÙÙˆÙØ© Ø§Ù„ÙØ¦Ø§Øª Ø¨ØµÙˆØ±Ùƒ ÙˆØ±ÙˆØ§Ø¨Ø·Ùƒ
        const categories = [
            { id: 1, name: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©", img: "https://i.ibb.co/hRy3nCnZ/Untitled-design.png" },
            { id: 2, name: "Ø¹Ø§Ù„Ù… Ø§Ù„Ø­ÙŠÙˆØ§Ù†", img: "https://images.unsplash.com/photo-1557008075-0f230d016c15?w=200" },
            { id: 3, name: "Ø§Ù„ØªØ§Ø±ÙŠØ®", img: "https://images.unsplash.com/photo-1461360228754-6e81c478585b?w=200" },
            { id: 4, name: "Ø§Ù„Ø±ÙŠØ§Ø¶Ø©", img: "https://images.unsplash.com/photo-1508098682722-e99c43a406b2?w=200" },
            { id: 5, name: "Ø¥Ø³Ù„Ø§Ù…ÙŠØ§Øª", img: "https://images.unsplash.com/photo-1584281723351-9d901645ed71?w=200" },
            { id: 6, name: "Ø§Ù„Ø¹Ù„ÙˆÙ…", img: "https://images.unsplash.com/photo-1532094349884-543bc11b234d?w=200" }
        ];

        let selectedIDs = [];

        // ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        function toggleMenu() {
            document.getElementById("sideDrop").classList.toggle("show");
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„ÙØ¦Ø§Øª
        function goToSetup() {
            document.getElementById('intro-screen').classList.remove('active');
            document.getElementById('setup-screen').classList.add('active');
            document.getElementById('footer-btn-area').style.display = 'block';
            renderCats();
        }

        // Ø¹Ø±Ø¶ Ø§Ù„ÙØ¦Ø§Øª ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
        function renderCats() {
            const container = document.getElementById('cats-container');
            container.innerHTML = '';
            categories.forEach(cat => {
                const isSelected = selectedIDs.includes(cat.id);
                container.innerHTML += `
                    <div class="cat-item ${isSelected ? 'selected' : ''}" onclick="toggleCat(${cat.id})">
                        <img src="${cat.img}">
                        <div class="cat-item-name">${cat.name}</div>
                    </div>
                `;
            });
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø£Ùˆ Ø¥Ù„ØºØ§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø©
        function toggleCat(id) {
            const idx = selectedIDs.indexOf(id);
            if (idx > -1) {
                selectedIDs.splice(idx, 1);
            } else {
                if (selectedIDs.length < 6) {
                    selectedIDs.push(id);
                } else {
                    alert("ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± 6 ÙØ¦Ø§Øª ÙÙ‚Ø·");
                }
            }
            renderCats();
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„ÙØ¹Ù„ÙŠ
        function startTheGame() {
            if (selectedIDs.length === 6) {
                alert("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¦Ø§Øª.. Ø¬Ø§Ø±Ù ØªØ¬Ù‡ÙŠØ² Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø¹Ø¨!");
            } else {
                alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± 6 ÙØ¦Ø§Øª Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© (Ø§Ù„Ù…Ø®ØªØ§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹: " + selectedIDs.length + ")");
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡Ø§
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
</body>
</html>
